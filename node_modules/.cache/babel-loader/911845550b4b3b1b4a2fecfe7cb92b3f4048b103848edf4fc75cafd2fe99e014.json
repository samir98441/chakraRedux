{"ast":null,"code":"const reducer = (state, action) => {\n  const data = action.payload;\n  switch (action.type) {\n    case \"LOADPRODUCTS\":\n      return {\n        ...state,\n        products: data\n      };\n    case \"LOADCARTS\":\n      return {\n        ...state,\n        cart: data\n      };\n    case \"SEARCH\":\n      return {\n        ...state,\n        searchValue: data,\n        searchedItem: []\n      };\n    case \"UPDATESEARCH\":\n      let addedItem = [...state.searchedItem];\n      state.products.forEach(item => {\n        if (item.PName.includes(state.searchValue)) {\n          addedItem = [...addedItem, item];\n        }\n      });\n      return {\n        ...state,\n        searchedItem: addedItem\n      };\n    case \"REMOVEITEM\":\n      const newDeletedData = state.products.filter(item => item.PId !== action.payload);\n      return {\n        ...state,\n        products: newDeletedData\n      };\n    case \"TOGGLE\":\n      let newVal;\n      let newToggle = state.products.map(item => {\n        if (item.PId === data) {\n          newVal = item.UpdateToggle ? false : true;\n          return {\n            ...item,\n            UpdateToggle: newVal\n          };\n        } else {\n          return item;\n        }\n      });\n      console.log(\"newToggle\", newToggle);\n      return {\n        ...state,\n        products: newToggle\n      };\n    case \"UPDATE\":\n      let id = action.payload.PId;\n      console.log(\"print id\", id);\n      let newName = action.payload.PName;\n      let newPrice = action.payload.Price;\n      let update = state.products.map(item => {\n        if (item.PId === id) {\n          return {\n            ...item,\n            PName: newName ? newName : item.PName,\n            Price: newPrice ? newPrice : item.Price\n          };\n        } else return item;\n      });\n      return {\n        ...state,\n        products: update\n      };\n    case \"ADDTOCART\":\n      let newCart;\n      console.log(\"cartlength\", state.cart);\n      if (state.cart.length !== 0) {\n        const tempCart = state.cart.find(item => item.PId === action.payload);\n        if (!tempCart) {\n          let reqItem = state.products.find(item => item.PId === action.payload);\n          reqItem = {\n            ...reqItem,\n            quantity: 1\n          };\n          newCart = [...state.cart, reqItem];\n        } else {\n          let nCart = {\n            ...tempCart,\n            quantity: tempCart.quantity + 1\n          };\n          const newAddedQuantity = state.cart.filter(item => item.PId !== action.payload);\n          newCart = [...newAddedQuantity, nCart];\n        }\n      } else {\n        newCart = state.products.find(item => item.PId === action.payload);\n        newCart = [{\n          ...newCart,\n          quantity: 1\n        }];\n      }\n      return {\n        ...state,\n        cart: newCart\n      };\n    case \"REDUCECART\":\n      let updatedQuantity = state.cart.find(item => item.PId === action.payload);\n      if (updatedQuantity.quantity > 1) {\n        updatedQuantity = {\n          ...updatedQuantity,\n          quantity: updatedQuantity.quantity - 1\n        };\n        let oldCart = state.cart.filter(item => item.PId !== action.payload);\n        return {\n          ...state,\n          cart: [...oldCart, updatedQuantity]\n        };\n      } else {\n        let oldCart = state.cart.filter(item => item.PId !== action.payload);\n        return {\n          ...state,\n          cart: oldCart\n        };\n      }\n    default:\n      return state;\n  }\n};\nexport default reducer;","map":{"version":3,"names":["reducer","state","action","data","payload","type","products","cart","searchValue","searchedItem","addedItem","forEach","item","PName","includes","newDeletedData","filter","PId","newVal","newToggle","map","UpdateToggle","console","log","id","newName","newPrice","Price","update","newCart","length","tempCart","find","reqItem","quantity","nCart","newAddedQuantity","updatedQuantity","oldCart"],"sources":["/home/sameer/Desktop/chakraRedux/src/reducer/reducer.js"],"sourcesContent":["const reducer = (state, action) => {\n  const data = action.payload;\n  switch (action.type) {\n    case \"LOADPRODUCTS\":\n      return { ...state, products: data };\n    case \"LOADCARTS\":\n      return { ...state, cart: data };\n\n    case \"SEARCH\":\n      return { ...state, searchValue: data, searchedItem: [] };\n\n    case \"UPDATESEARCH\":\n      let addedItem = [...state.searchedItem];\n      state.products.forEach((item) => {\n        if (item.PName.includes(state.searchValue)) {\n          addedItem = [...addedItem, item];\n        }\n      });\n      return { ...state, searchedItem: addedItem };\n\n    case \"REMOVEITEM\":\n      const newDeletedData = state.products.filter(\n        (item) => item.PId !== action.payload\n      );\n      return { ...state, products: newDeletedData };\n\n    case \"TOGGLE\":\n      let newVal;\n      let newToggle = state.products.map((item) => {\n        if (item.PId === data) {\n          newVal = item.UpdateToggle ? false : true;\n          return { ...item, UpdateToggle: newVal };\n        } else {\n          return item;\n        }\n      });\n      console.log(\"newToggle\", newToggle);\n      return { ...state, products: newToggle };\n\n    case \"UPDATE\":\n      let id = action.payload.PId;\n      console.log(\"print id\", id);\n      let newName = action.payload.PName;\n      let newPrice = action.payload.Price;\n\n      let update = state.products.map((item) => {\n        if (item.PId === id) {\n          return {\n            ...item,\n            PName: newName ? newName : item.PName,\n            Price: newPrice ? newPrice : item.Price,\n          };\n        } else return item;\n      });\n      return { ...state, products: update };\n\n    case \"ADDTOCART\":\n      let newCart;\n      console.log(\"cartlength\", state.cart);\n      if (state.cart.length !== 0) {\n        const tempCart = state.cart.find((item) => item.PId === action.payload);\n        if (!tempCart) {\n          let reqItem = state.products.find(\n            (item) => item.PId === action.payload\n          );\n          reqItem = { ...reqItem, quantity: 1 };\n          newCart = [...state.cart, reqItem];\n        } else {\n          let nCart = { ...tempCart, quantity: tempCart.quantity + 1 };\n          const newAddedQuantity = state.cart.filter(\n            (item) => item.PId !== action.payload\n          );\n          newCart = [...newAddedQuantity, nCart];\n        }\n      } else {\n        newCart = state.products.find((item) => item.PId === action.payload);\n        newCart = [{ ...newCart, quantity: 1 }];\n      }\n      return { ...state, cart: newCart };\n\n    case \"REDUCECART\":\n      let updatedQuantity = state.cart.find(\n        (item) => item.PId === action.payload\n      );\n      if (updatedQuantity.quantity > 1) {\n        updatedQuantity = {\n          ...updatedQuantity,\n          quantity: updatedQuantity.quantity - 1,\n        };\n        let oldCart = state.cart.filter((item) => item.PId !== action.payload);\n        return { ...state, cart: [...oldCart, updatedQuantity] };\n      } else {\n        let oldCart = state.cart.filter((item) => item.PId !== action.payload);\n        return { ...state, cart: oldCart };\n      }\n\n    default:\n      return state;\n  }\n};\nexport default reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}